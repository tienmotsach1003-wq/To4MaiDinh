<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Game Tr·∫Øc nghi·ªám H√≥a h·ªçc IIA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:radial-gradient(circle at top,#1a2a6c,#000);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.quiz-box{
  width:95%;
  max-width:850px;
  background:#0d1117;
  border-radius:20px;
  padding:30px;
  box-shadow:0 0 35px rgba(0,255,255,.35);
}
h1{text-align:center;color:#00e5ff}

.info{
  display:flex;
  justify-content:space-between;
  margin:15px 0;
  font-size:18px;
}

.progress{
  height:10px;
  background:#222;
  border-radius:20px;
  overflow:hidden;
}
.progress div{
  height:100%;
  background:linear-gradient(90deg,#00e5ff,#00ff9c);
  width:100%;
  transition:width 1s linear;
}

.question{
  font-size:22px;
  margin:25px 0;
  white-space: pre-line; /* QUAN TR·ªåNG: xu·ªëng d√≤ng b·∫±ng \n */
}

.answers button{
  width:100%;
  padding:15px;
  margin:10px 0;
  font-size:17px;
  background:#161b22;
  border:2px solid #30363d;
  color:#fff;
  border-radius:12px;
  cursor:pointer;
  transition:.3s;
}
.answers button:hover{
  transform:scale(1.03);
  background:#21262d;
}
.correct{
  background:#1b5e20!important;
  border-color:#00ff9c!important;
}
.wrong{
  background:#7f1d1d!important;
  border-color:#ff6b6b!important;
}

.next{
  display:none;
  width:100%;
  padding:15px;
  margin-top:15px;
  font-size:18px;
  background:#00e5ff;
  color:#000;
  border:none;
  border-radius:12px;
  cursor:pointer;
  position:relative;
  z-index:10; /* FIX kh√¥ng b·∫•m ƒë∆∞·ª£c */
}

.result{
  text-align:center;
  font-size:22px;
}
</style>
</head>

<body>

<div class="quiz-box">
<h1>üéØ Game Tr·∫Øc nghi·ªám H√≥a h·ªçc ‚Äì Nh√≥m IIA</h1>

<div class="info">
  <div>‚è± <span id="time">30</span>s</div>
  <div>‚≠ê ƒêi·ªÉm: <span id="score">0</span></div>
</div>

<div class="progress"><div id="bar"></div></div>

<div id="quiz">
  <div class="question" id="question"></div>
  <div class="answers" id="answers"></div>
  <button class="next" id="next">C√¢u ti·∫øp ‚ûú</button>
</div>

<div class="result" id="result" style="display:none"></div>
</div>

<script>
const questions = [
{
    q: "Ba ph·∫£n ·ª©ng v·ªõi n∆∞·ªõc m·∫°nh h∆°n Mg do nguy√™n nh√¢n n√†o sau ƒë√¢y:\n" +
       "(1) Barium c√≥ t√≠nh kh·ª≠ m·∫°nh h∆°n magnesium\n" +
       "(2) ƒê·ªô tan c·ªßa Ba(OH)‚ÇÇ trong n∆∞·ªõc cao h∆°n nhi·ªÅu so v·ªõi Mg(OH)‚ÇÇ\n" +
       "(3) B·ªçt kh√≠ H‚ÇÇ sinh ra b√°m tr√™n b·ªÅ m·∫∑t Mg nhi·ªÅu h∆°n, c·∫£n tr·ªü ph·∫£n ·ª©ng ti·∫øp di·ªÖn",
    a: [
      "(1) v√† (2)",
      "(1), (2) v√† (3)",
      "(1) v√† (3)",
      "(1) v√† (2)"
    ],
    c: 1
},
{q:"Ph·∫£n ·ª©ng n√†o sau ƒë√¢y ƒë∆∞·ª£c g·ªçi l√† ph·∫£n ·ª©ng t√¥i v√¥i?",
a:["CaCO‚ÇÉ‚ÜíCaO+CO‚ÇÇ","Ca+2H‚ÇÇO‚ÜíCa(OH)‚ÇÇ+H‚ÇÇ","CaO+H‚ÇÇO‚ÜíCa(OH)‚ÇÇ","2Ca+O‚ÇÇ‚Üí2CaO"],c:2},
{q:"Nh·∫≠n bi·∫øt dung d·ªãch BaCl‚ÇÇ b·∫±ng dung d·ªãch n√†o?",
a:["NaOH","Na‚ÇÇCO‚ÇÉ","NaCl","NaNO‚ÇÉ"],c:1},
{q:"Trong ph·∫£n ·ª©ng Mg v·ªõi O‚ÇÇ, m·ªói nguy√™n t·ª≠ Mg nh∆∞·ªùng bao nhi√™u e?",
a:["1","2","3","4"],c:1},
{q:"Kim lo·∫°i ph·∫£n ·ª©ng ch·∫≠m v·ªõi n∆∞·ªõc ·ªü nhi·ªát ƒë·ªô th∆∞·ªùng?",
a:["Mg","Be","Sr","Ba"],c:0},
{q:"BaCl‚ÇÇ cho ng·ªçn l·ª≠a m√†u g√¨?",
a:["T√≠m nh·∫°t","V√†ng cam","L·ª•c v√†ng","ƒê·ªè"],c:2},
{q:"Kim lo·∫°i ki·ªÅm th·ªï ƒëi·ªÅu ch·∫ø b·∫±ng ph∆∞∆°ng ph√°p:",
a:["Nhi·ªát luy·ªán","Th·ªßy luy·ªán","ƒêi·ªán ph√¢n n√≥ng ch·∫£y mu·ªëi chloride","ƒêi·ªán ph√¢n dung d·ªãch"],c:2},
{q:":Trong c√¥ng nghi·ªáp,ƒëi·ªÅu ch·∫ø kim lo·∫°i ki·ªÅm th·ªï b·∫±ng ph∆∞∆°ng ph√°p ƒëi·ªán ph√¢n n√≥ng ch·∫£y mu·ªëi chloride. Qu√° tr√¨nh kh·ª≠ ·ªü cathode l√†:",
a:["M‚ÜíM‚Å∫+e","M¬≤‚Å∫+2e‚ÜíM","M‚ÜíM¬≤‚Å∫+2e","M‚Å∫+e‚ÜíM"],c:1},
{q:"Dung d·ªãch ki·ªÉm tra ion Ca¬≤‚Å∫ l√†:",
a:["HCl","NaNO‚ÇÉ","NaCl","Na‚ÇÇCO‚ÇÉ"],c:3},
{q:"Dung d·ªãch ki·ªÉm tra ion SO‚ÇÑ¬≤‚Åª l√†:",
a:["NaCl","NaNO‚ÇÉ","BaCl‚ÇÇ","HCl"],c:2},
{q:"D√£y kim lo·∫°i t√°c d·ª•ng nhanh v·ªõi n∆∞·ªõc:",
a:["Be,Na,Ba","Mg,Ca,Ba","Li,Ba,Ca","Sr,Sn,Ba"],c:2},
{q:"Ph∆∞∆°ng tr√¨nh n√†o kh√¥ng ƒë√∫ng?",
a:["Ca+2H‚ÇÇO‚ÜíCa(OH)‚ÇÇ+H‚ÇÇ","BeO+H‚ÇÇO‚ÜíBe(OH)‚ÇÇ","Mg+H‚ÇÇSO‚ÇÑ‚ÜíMgSO‚ÇÑ+H‚ÇÇ","Be+2NaOH‚ÜíNa‚ÇÇBeO‚ÇÇ+H‚ÇÇ"],c:1},
{q:"T·ªïng s·ªë proton v√† electron c·ªßa ion Mg¬≤‚Å∫ l√†:",
a:["20","36","22","24"],c:2},
{q:"Calcium t·∫≠p trung ch·ªß y·∫øu ·ªü:",
a:["X∆∞∆°ng","RƒÉng","C∆°","M√≥ng"],c:0},
{q:"Ch·∫•t d√πng s√°t tr√πng t·∫°m th·ªùi r√°c th·∫£i:",
a:["C√°t","Than ƒë√°","ƒê√° v√¥i","V√¥i b·ªôt"],c:3},
{q:"So s√°nh CaSO‚ÇÑ v√† BaSO‚ÇÑ, nh·∫≠n ƒë·ªãnh ƒë√∫ng:",
a:["Kh√≥ nhi·ªát ph√¢n h∆°n","Kh√≥ th·ªßy ph√¢n h∆°n","D·ªÖ k·∫øt t·ªßa h∆°n","D·ªÖ tan h∆°n"],c:3},
{q:"Nh·∫≠n ƒë·ªãnh kh√¥ng ƒë√∫ng v·ªÅ kim lo·∫°i IIA:",
a:["Kh·ªëi l∆∞·ª£ng ri√™ng nh·ªè","C·ª©ng h∆°n IA","M·∫°ng l·∫≠p ph∆∞∆°ng t√¢m kh·ªëi","Nhi·ªát ƒë·ªô n√≥ng ch·∫£y th·∫•p"],c:2},
{q:"H·ª£p ch·∫•t ch√≠nh c·ªßa v·ªè ·ªëc s√≤ l√†:",
a:["CaO","CaCO‚ÇÉ","Ca(OH)‚ÇÇ","Ca‚ÇÉ(PO‚ÇÑ)‚ÇÇ"],c:1},
{q:"S·ªë ph√°t bi·ªÉu ƒë√∫ng v·ªÅ kim lo·∫°i IIA l√†:\n" +
    "(1) S·ªë oxi h√≥a c·ªßa c√°c nguy√™n t·ªë kim lo·∫°i nh√≥m IIA trong h·ª£p ch·∫•t l√† +2\n" +
    "(2) Beryllium l√† kim lo·∫°i nh·∫π nh·∫•t trong c√°c kim lo·∫°i nh√≥m IIA\n" +
    "(3) Magnesium l√† kim lo·∫°i c√≥ nhi·ªát ƒë·ªô n√≥ng ch·∫£y th·∫•p nh·∫•t trong nh√≥m IIA\n" +
    "(4) C√°c kim lo·∫°i nh√≥m IIA ƒë·ªÅu c√≥ c·∫•u tr√∫c m·∫°ng tinh th·ªÉ l·∫≠p ph∆∞∆°ng t√¢m kh·ªëi\n  " +
    "(5) C√°c kim lo·∫°i nh√≥m IIA ƒë·ªÅu d·∫´n ƒëi·ªán" ,
a:["2","3","4","1"],c:1},
{q:"Cho c√°c ph√°t bi·ªÉu sau: \n" +
    "(1) C√°c kim lo·∫°i nh√≥m IIA ƒë·ªÅu c√≥ 2 electron ·ªü l·ªõp ngo√†i c√πng\n"+
    "(2) T·ª´ Be ‚Üí Ba, b√°n k√≠nh nguy√™n t·ª≠ gi·∫£m d·∫ßn\n"+
    "(3) T√≠nh kh·ª≠ c·ªßa kim lo·∫°i nh√≥m IIA tƒÉng d·∫ßn t·ª´ tr√™n xu·ªëng d∆∞·ªõi\n"+
    "(4) Ion Ca2+ v√† Mg2+ ƒë√≥ng vai tr√≤ sinh h·ªçc quan tr·ªçng\n"+
    "(5) Mu·ªëi cacbonat c·ªßa kim lo·∫°i nh√≥m IIA ƒë·ªÅu kh√¥ng tan trong n∆∞·ªõc\n",
a:["1","3","4","5"],c:2}

];

shuffle(questions);

let i = 0, score = 0, correct = 0, wrong = 0;
let time = 30, timer;

const qEl = document.getElementById("question");
const aEl = document.getElementById("answers");
const next = document.getElementById("next");
const bar = document.getElementById("bar");

load();

function load(){
  resetTimer();
  next.style.display = "none";
  next.disabled = false;
  aEl.innerHTML = "";

  let q = questions[i];
  qEl.textContent = `C√¢u ${i+1}/${questions.length}:\n${q.q}`;

  let arr = q.a.map((text, idx) => ({
    text,
    correct: idx === q.c
  }));

  shuffle(arr);

  arr.forEach(o => {
    let b = document.createElement("button");
    b.textContent = o.text;
    b.dataset.correct = o.correct;
    b.onclick = () => choose(b, o.correct);
    aEl.appendChild(b);
  });
}

function choose(btn, isCorrect){
  stopTimer();

  // disable CH·ªà c√°c ƒë√°p √°n
  [...aEl.children].forEach(b => b.disabled = true);

  if(isCorrect){
    btn.classList.add("correct");
    score += 5;
    correct++;
  }else{
    btn.classList.add("wrong");
    [...aEl.children]
      .find(b => b.dataset.correct === "true")
      ?.classList.add("correct");
    wrong++;
  }

  document.getElementById("score").textContent = score;
  next.style.display = "block";
}

next.onclick = () => {
  i++;
  if(i < questions.length) load();
  else end();
};

function resetTimer(){
  time = 30;
  bar.style.width = "100%";
  document.getElementById("time").textContent = time;
  timer = setInterval(() => {
    time--;
    bar.style.width = (time/30*100) + "%";
    document.getElementById("time").textContent = time;
    if(time === 0){
      stopTimer();
      next.style.display = "block";
    }
  }, 1000);
}
function stopTimer(){ clearInterval(timer); }

function end(){
  document.getElementById("quiz").style.display = "none";
  document.getElementById("result").style.display = "block";
  document.getElementById("result").innerHTML =
    `üèÅ <b>K·∫æT QU·∫¢ CU·ªêI C√ôNG</b><br><br>
     ‚≠ê T·ªïng ƒëi·ªÉm: <b>${score}</b><br>
     ‚úÖ ƒê√∫ng: ${correct} c√¢u<br>
     ‚ùå Sai: ${wrong} c√¢u`;
}

function shuffle(a){
  for(let i = a.length - 1; i > 0; i--){
    let j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
}
</script>

</body>
</html>
